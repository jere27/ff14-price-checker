<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>FF14 テスト</title>
</head>

<body>
<h1>動作テスト</h1>

<select id="recipe">
  <option value="goryoku">剛力の宝薬G4</option>
</select>

<select id="dc">
  <option value="Mana">Mana</option>
</select>

<button id="fetchBtn">価格取得</button>

<div id="result"></div>

<script>
async function fetchAll() {
  alert("ボタンは反応しています");
  
  const dc = document.getElementById("dc").value;
  const res = await fetch(`https://universalis.app/api/v2/${dc}/49228`);
  const data = await res.json();

  document.getElementById("result").innerText =
    "取得成功：" + data.listings[0].pricePerUnit + " ギル";
}

document.getElementById("fetchBtn").addEventListener("click", fetchAll);
</script>

</body>
</html>
