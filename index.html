<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>FF14 宝薬G4 原価チェック</title>
<style>
body { font-family: sans-serif; padding: 20px; max-width: 700px; }
select, button { padding: 8px; margin-right: 5px; }
.materials { margin-left: 20px; line-height: 1.8; }
.note { color: #555; font-size: 13px; }
.price { font-weight: bold; }
</style>
</head>
<body>

<h1>FF14 宝薬G4 原価チェッカー</h1>

<select id="recipe">
  <option value="goryoku">剛力の宝薬G4</option>
  <option value="shinryoku">心力の宝薬G4</option>
</select>

<select id="dc">
  <option value="Mana">Mana</option>
  <option value="Gaia">Gaia</option>
  <option value="Elemental">Elemental</option>
  <option value="Meteor">Meteor</option>
</select>

<button onclick="fetchAll()">価格取得</button>

<div id="result"></div>

<script>
const RECIPES = {
  goryoku: {
    name: "剛力の宝薬G4",
    marketId: 49234,
    materials: [
      { id: 49228, name: "イヨラエキス" },
      { id: 44051, name: "大聖水" },
      { id: 44039, name: "ウィンドパセリ" },
      { id: 46246, name: "紫電の霊砂" }
    ]
  },
  shinryoku: {
    name: "心力の宝薬G4",
    marketId: null,
    materials: [
      { id: 49228, name: "イヨラエキス" },
      { id: 44051, name: "大聖水" },
      { id: 44043, name: "パールグラス" },
      { id: 46246, name: "紫電の霊砂" }
    ]
  }
};

async function fetchAvg(
